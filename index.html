<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Formation ReactJS</title>

    <meta name="description" content="Formation ReactJS">
    <meta name="author" content="focus@kleegroup.com">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="node_modules/reveal.js/css/theme/blood.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="node_modules/reveal.js/lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'node_modules/reveal.js/css/print/pdf.css' : 'node_modules/reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <style>
    .reveal h1 {
        font-size: 2.5em;
    }
    .reveal h2 {
        font-size: 1.5em;
    }
    .reveal h3 {
        font-size: 1.2em;
    }
    </style>

    <!--[if lt IE 9]>
    <script src="node_modules/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

    <div class="reveal">

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section data-background='licorn.jpg'>
                <h1>Formation ReactJS</h1>
                <h3>Ou le plus beau jour du reste de ta vie</h3>
                <p>
                    <small>Team Focus, le 22/01/2016</small>
                </p>
                <p><small><i>http://bit.ly/1MjtHDX</i></small></p>
            </section>
            <section data-background='wall11.jpg'>
                <section>
                    <h2>C'est quoi React JS ?</h2>
                    <p>ReactJS est un framework JS, pour bâtir des interfaces agréables et modulaires.</p>
                    <p>Il s'inscrit dans la famille des framework Js tels que AngularJS ou EmberJS.</p>
                </section>
                <section>
                    <p>La grande force de React, c'est le DOM virtuel.</p>
                    <p>React maintient en permanence une copie rapide du DOM, fait toutes ses mises à jour en fond, et ne met à jour le DOM qu'au besoin.</p>
                    <p>L'intérêt ? Un gain en performance, et surtout un découplage de la logique composants du DOM</p>
                </section>
                <section>
                    <h2>Pourquoi modulaire ?</h2>
                    <p>ReactJS a une approche composant. Un composant, c'est une pièce du puzzle qui crée l'interface utilisateur.</p>
                    <p>Faire du React, c'est fabriquer des composants, qu'on interconnecte entre eux.</p>
                    <p>Il s'agit donc de la Programmation Orientée Composant.</p>
                </section>
                <section>
                    <h2>Qu'est-ce que tu entends par "Composant" ?</h2>
                    <p>Un composant React, c'est :</p>
                    <ul>
                        <li>Une mécanique interne écrite en JS</li>
                        <li>Un résultat sous forme de HTML, écrit grâce au JSX</li>
                        <li>Un style associé, sous forme de CSS</li>
                    </ul>
                </section>
                <section>
                    <h2>JSX ?</h2>
                    <p>Le JSX est un mélange de JS et de HTML. Il est employé par React pour écrire le rendu HTML des composants.</p>
                    <pre>
                        <code class='javascript'>
const name = 'Lopez Joe';
return (
    <div>
        <b>{name.capitalize()}</b>
    </div>
);
                            </code>
                        </pre>
                        <p>donnera</p>
                        <pre>
                            <code class='html'>
<div>
    <b>LOPEZ JOE</b>
</div>
                            </code>
                        </pre>
                    </section>
                </section>
                <section data-background='wall2.jpg'>
                    <section>
                        <h1>Comment ça marche ?<h1>
                    </section>
                    <section>
                        <h2>Une appli en React, c'est une arborescence de composants</h2>
                        <pre>
                            <code class="html">
&lt;Parent>
    &lt;ListeDeTrucs />
    &lt;ChampDeSaisie />
    &lt;CentreDeNotifs />
&lt;/Parent>

                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>On code comment un composant ?</h2>
                        <p>Un composant React, ça ressemble à ça :</p>
                        <pre>
                            <code class="javascript">
const MyComponent = React.createClass({
    mixins: [firstMixin, secondMixin],
    _privateMethod() {
        // Some fancy stuff
    },
    publicMethod() {
        // Even fancier stuff
    },
    render() {
        const {name} = this.props;
        return (
            <div>
                <p>My content</p>
                <p>My name is {name}</p>
            </div>
        );
    }
});
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h3>Qu'est ce que les mixins ?</h3>
                        <p>Un mixin est un bout de code partagé entre plusieurs composants</p>
                        <p>Il ne s'agit que d'un objet JS, dont le composant va hériter pour l'intégrer à son prototype.</p>
                        <h2>Encore mieux : L'encapsulation de composants</h2>
                        <p>Une arborescence de composants pour une meilleure flexibilité</p>
                    </section>
                    <section>
                        <h2>Comment communiquent les composants ?</h2>
                        <p>Avec les <b>props</b> !</p>
                        <pre>
                            <code class="javascript">
const Parent = React.createClass({
    render() {
        return &lt;Child myProp='coucou'/>;
    }
});

const Child = React.createClass({
    render() {
        return <div>{this.props.myProp}, ça va ?</div>
    }
});
// Ce qui renvoie <div>coucou, ça va ?</div>
                            </code>
                        </pre>
                        <p>Cool n'est-ce pas ?</p>
                    </section>
                    <section>
                        <h2>Mais quid des valeurs qui bougent ?</h2>
                        <p>Pour les valeurs que l'on veut faire varier, on utilise le <b>state</b> !</p>
                        <pre>
                            <code class="javascript">
const Counter = React.createClass({
    getInitialState() {
        return {count: 0};
    },
    componentDidMount() {
        setInterval(() => {
            const {count} = this.state;
            this.setState({count: count + 1});
        }, 1000);
    },
    render() {
        return (
            &lt;div>
                The count is now {this.state.count}.
            &lt;/div>
        );
    }
});
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>On recapitule !</h2>
                        <ul>
                            <li>Les composants constituent un arbre hiérarchique, avec des parents et des enfants</li>
                            <li>Les composants se passent des valeurs entre enfants et parents à travers les <b>props</b></li>
                            <li>L'état de l'interface à un instant <i>t</i> (le contenu d'un champ de saisie, les données récupérées depuis le serveur, ...) est porté par le <b>state</b></li>
                        </ul>
                    </section>
                    <section>
                        <h3>Pourquoi on met pas tout dans le state alors ?</h3>
                        <p>Le danger du state, c'est qu'on peut le changer à tout moment. Même quand on veut pas.</p>
                    </section>

                    <section>
                        <h2>Ok mais je choisis comment du coup ?</h2>
                        <ul>
                            <li>Toute donnée fournie à un composant, dont il n'est pas responsable, est portée par ses props.</li>
                            <li><b>Le state n'est employé que pour refléter l'état d'un composant dans son interaction avec l'utilisateur.</b></li>
                            <li>Par exemple, un composant de liste donne les données à ses enfants par des props, mais les enfants ne doivent pas modifier ces données. Ils n'en sont pas responsables.</li>
                            <li>Au contraire, un composant avec un champ de saisie est responsable de la valeur du champ, et doit la porter dans son state.</li>
                        </ul>
                    </section>
                    <section>
                        <h2>StateLess Component</h2>
                        <p>Avec eux, il ne faut pas hésiter ! </p>
                        <pre>
                            <code class="javascript">
  const Profile = ({image, bio}) => {
    return (
      &lt;div>
          <img src={image} />
          <div>{bio}</div>
      &lt;/div>

    )
  };
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Petit récapitulatif</h2>
                        <ul>
                            <li>Avec des mixins, et un cycle de vie ==> React.CreateClass</li>
                            <li>Sans mixins mais avec un cycle de vie ==> class ... extends Component</li>
                            <li>Sans mixins et sans cylce de vie ==> Pures Fonctions</li>
                        </ul>
                    </section>
					                    <section>
                        <h2>React.createClass</h2>
                        <p>Pour les mixins !!!</p>
                        <pre>
                            <code class="javascript">
const Hello = React.createClass({
  mixins: [firstMixin, secondMixin],
  getInitialState() {
    return {
      hello: "world"
    };
  },
  componentWillReceiveProps(nextProps){
	console.log(this.props); 
	console.log(nextProps);
  },
  handleInputChange({target: {value}) {
    this.setState({
      hello: value
    });
  },
  render() {
	const {hello} = this.state;
    return (
      &lt;div>
        &lt;input value={hello} onChange={this.handleInputChange} />
        &lt;div>hello {hello}</div>
      &lt;/div>
    );
  }
});
                            </code>
                        </pre>
                    </section>
					                    <section>
                        <h2>Class ES6</h2>
                        <p>extends Component (voir le PureComponent)</p>
                        <pre>
                            <code class="javascript">
class TodoItem extends Component {
  constructor(props, context) {
    super(props, context);
    this.state = {
      editing: false
    };
  }

  handleDoubleClick() {
    this.setState({ editing: true });
  }
  render (){
	const {editing} = this.state;
	return (
		&lt;div>Un composant qui a un état : {editing}</div>
	)
  }
}
                            </code>
                        </pre>
                    </section>
					                    <section>
                        <h2>StateLess Component</h2>
                        <p>Avec eux, il ne faut pas hésiter ! </p>
                        <pre>
                            <code class="javascript">
const Personne = () => {
    return (
      &lt;Profile nom={'Silvio'} bio={'BlaBlaBlaBlaBlaBlaBla'}/>

    )
  };					
							
  const Profile = ({nom, bio}) => {
    return (
      &lt;div>
          <span>nom</span>
          <div>{bio}</div>
      &lt;/div>

    )
  };
                            </code>
                        </pre>
                    </section>
                </section>
                <section data-background='wall3.jpg'>
                    <section>
                        <h1>Le cycle de vie d'un composant</h1>
                    </section>
                    <section>
                        <img src='lifecycle.png'/>
                    </section>
                </section>
                <section data-background='wall2.jpg'>
                    <section>
                        <h1>Il s'agit de créer une todo list !</h1>
                   </section>
                    <section>
                        <h2>On veut obtenir quoi ?</h2>
                        <ul>
                            <li>Une appli écrite en React pur</li>
                            <li>Avoir une liste de choses à faire</li>
                            <li>Pouvoir ajouter des choses à faire</li>
                            <li>Pouvoir supprimer des choses à faire</li>
                            <li>Pouvoir filtrer par choses à faire faits ou pas faits</li>
                        </ul>
                    </section>
                    <section>
                        <h1>On y va !</h1>
                        <a href='http://bit.ly/1ZESLJK' target='blank' style="color: cyan">http://bit.ly/1ZESLJK</a>
                        <a href='https://github.com/tastejs/todomvc-app-template/blob/master/index.html' target='blanck' style="color: grey">La spec</a>
                    </section>
                </section>
            </div>
        </div>

        <script src="node_modules/reveal.js/lib/js/head.min.js"></script>
        <script src="node_modules/reveal.js/js/reveal.js"></script>

        <script>
        // Correction https://jsbin.com/kipixumuxi/6/edit?js,output
        // Full list of configuration options available at:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,
            viewDistance: 3,
            transition: 'slide', // none/fade/slide/convex/concave/zoom

            // Optional reveal.js plugins
            dependencies: [
                { src: 'node_modules/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                { src: 'node_modules/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: 'node_modules/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: 'node_modules/reveal.js/plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                { src: 'node_modules/reveal.js/plugin/zoom-js/zoom.js', async: true },
                { src: 'node_modules/reveal.js/plugin/notes/notes.js', async: true }
            ]
        });

        </script>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-70256271-2', 'auto');
          ga('send', 'pageview');

        </script>
    </body>
    </html>
